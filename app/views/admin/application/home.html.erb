<h1>
  Welcome to Wallaby Admin Demo site
</h1>
<%= render 'flash_messages' %>
<p>Here, data is re-generated by <code>FFaker</code> gem everyday. Please do not save sensitive information on this site.</p>
<p>If interested, check out the demo repo at <a href="https://github.com/wallaby-rails/wallaby-demo" target="_blank">https://github.com/wallaby-rails/wallaby-demo</a>.
<h3>What to check out:</h3>

<h4>For Admin Interface</h4>
<ul>
  <% #byebug %>
  <li>Check out how Wallaby handles models (e.g. <%= index_link ActiveRecord::SchemaMigration %>) which have no primary key.</li>
  <li>Check out all the PostgreSQL data types that Wallaby supports at <%= index_link AllPostgresType %> model pages (
    <%= index_link(AllPostgresType) { 'index' } %> /
    <%= show_link(AllPostgresType.first) { 'show' } %> /
    <%= edit_link(AllPostgresType.first, html_options: { class: '' }) { 'edit' } %> ).
  </li>
  <li>
    Check out how associations are displayed in index / show pages and auto-completed in form pages (e.g. <%= new_link(Product, html_options: { class: '' }) { 'Product create page' } %>):
    <ul>
      <li><code>belongs_to</code>: a <%= index_link Product %> belongs to a <%= index_link Category %> and an <%= index_link Order::Item %> belongs to an <%= index_link Order %>.</li>
      <li><code>has_one</code>: a <%= index_link User %> has one <%= index_link Profile %>.</li>
      <li><code>has_many</code>: a <%= index_link Product %> has many <%= index_link Order %>s, and it has many <%= index_link Order::Item %>s through <%= index_link Order %>s.</li>
      <li><code>has_and_belongs_to_many</code>: a <%= index_link Product %> has and belongs to many <%= index_link Tag %>s.</li>
      <li><code>polymorphic</code>: a <%= index_link Picture %> belongs to imageables (e.g. <%= index_link Product %>, <%= index_link User %> and <%= index_link Category %>).</li>
      <li><code>STI (single table inheritance)</code>: <%= index_link User %>, <%= index_link SuperUser %> and <%= index_link Operator %> are the STI types for table <code>users</code>.</li>
    </ul>
  </li>
  <li>Check out how ActiveStorage is handled for <%= index_link Picture %> model.</li>
  <li>Check out how custom filters (e.g. Featured, Published) are used for <%= index_link Product %> model.</li>
</ul>

<h4>For general purpose:</h4>
<ul>
  <li>
    <div>To use the features that Wallaby has implemented (e.g. automated Resourceful actions, user-friendly UI and authorization) outside of Admin Interface,
      for example, for <%= link_to 'Product', main_app.products_path, target: :_blank %> pages, simply include <code>Wallaby::ResourcesConcern</code> in <code>ProductsController</code>. Code as below:</div>
    <pre><code>
class ProductsController < ApplicationController
  include Wallaby::ResourcesConcern
end
    </code></pre>
  </li>
  <li>
    <div>Fully functional <%= link_to 'blog system', main_app.blogs_path, target: :_blank %> by using the <%= link_to 'simple blog theme', 'https://github.com/wallaby-rails/wallaby-demo', target: :_blank %> (a pure set of view files). Code as below:</div>
    <pre><code>
class BlogsController < ApplicationController
  include Wallaby::ResourcesConcern
  self.theme_name = 'simple_blog_theme'
end
    </code></pre>
  </li>
  <li>
    <div>Turn into <%= link_to 'a blog JSON:API', main_app.api_blogs_path(format: :json), target: :_blank %> by using a different responder <code>Wallaby::JsonApiResponder</code>. Code as below:</div>
    <pre><code>
module Api
  class BlogsController < ActionController::API
    include Wallaby::ResourcesConcern
    self.responder = Wallaby::JsonApiResponder
    respond_to :json
  end
end
    </code></pre>
  </li>
</ul>
